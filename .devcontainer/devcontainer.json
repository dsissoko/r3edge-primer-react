{
    "name": "Node.js",
    "build": {
        "dockerfile": "Dockerfile",
        // On passe à Node 20 (compatible Vite/Primer)
        "args": { "VARIANT": "20" }
    },

    "settings": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "[javascript]": {
            "editor.defaultFormatter": "esbenp.prettier-vscode"
        }
    },

    "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
    ],

    // Si tu veux exposer le dev server vite
    "forwardPorts": [5173],

    // On garde yarn si tu préfères, mais sans nvm
    "postCreateCommand": "yarn install",

    "postStartCommand": "yarn dev",

    "remoteUser": "node"
}
